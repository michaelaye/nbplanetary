---

title: CTX Index


keywords: fastai
sidebar: home_sidebar

summary: "Scraping the latest CTX index from the latest added volume."
description: "Scraping the latest CTX index from the latest added volume."
nb_path: "02a_pdstools.ctx_index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02a_pdstools.ctx_index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CTXIndex" class="doc_header"><code>class</code> <code>CTXIndex</code><a href="https://github.com/michaelaye/planetarypy/tree/{branch}/planetarypy/pdstools/ctx_index.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CTXIndex</code>(<strong><code>volumes_url</code></strong>:<code>str</code>=<em><code>'https://pds-imaging.jpl.nasa.gov/volumes/mro.html'</code></em>, <strong><code>release_url_template</code></strong>:<code>Template</code>=<em><code>&lt;string.Template object at 0x7faeec215f10&gt;</code></em>, <strong><code>volume_url_template</code></strong>:<code>Template</code>=<em><code>&lt;string.Template object at 0x7faeec3fd7f0&gt;</code></em>, <strong><code>scraped_tables</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>release_scraped</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>

<pre><code>Class to determine the URL for the latest cumulative index.

This is a 2 step process, where first the MRO release page is scraped
for the latest CTX release, and then the latest release page is scraped
for the latest volume.
From that latest volume the latest index URL is constructed.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">CTXIndex</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CTXIndex.web_tables_list" class="doc_header"><code>CTXIndex.web_tables_list</code><a href="" class="source_link" style="float:right">[source]</a></h4>
<pre><code>Use the pandas scraper to read in the MRO data release table.

The scraper returns several tables in a list and the last one
lists all the CTX volumes.

This could be replaced by cached properties.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ctx</span><span class="o">.</span><span class="n">web_tables_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Scraping volumes page ...
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Mission to MarsContext Camera (CTX) and Mars Color Imager (MARCI) MRO LEVEL 0 EDRs V1.0</th>
      <th>Mission to MarsContext Camera (CTX) and Mars Color Imager (MARCI) MRO LEVEL 0 EDRs V1.0.1</th>
      <th>Mission to MarsContext Camera (CTX) and Mars Color Imager (MARCI) MRO LEVEL 0 EDRs V1.0.2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>50</th>
      <td>Release 51</td>
      <td>NaN</td>
      <td>CTX (59 volumes mrox_3449-3507) and MARCI (21 ...</td>
    </tr>
    <tr>
      <th>51</th>
      <td>Release 52</td>
      <td>NaN</td>
      <td>CTX (37 volumes mrox_3508-3544) and MARCI (14 ...</td>
    </tr>
    <tr>
      <th>52</th>
      <td>Release 53</td>
      <td>NaN</td>
      <td>CTX (33 volumes mrox_3545-3577) and MARCI (12 ...</td>
    </tr>
    <tr>
      <th>53</th>
      <td>Release 54</td>
      <td>NaN</td>
      <td>CTX (33 volumes mrox_3578-3610) and MARCI (13 ...</td>
    </tr>
    <tr>
      <th>54</th>
      <td>Release 55</td>
      <td>NaN</td>
      <td>CTX (59 volumes mrox_3611-3669) and MARCI (20 ...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">web_tables_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">web_tables_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CTXIndex.release_number" class="doc_header"><code>CTXIndex.release_number</code><a href="" class="source_link" style="float:right">[source]</a></h4>
<pre><code>Fishes out the release number.

This is needed to construct the exact URL to the latest cumulative index file.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">release_number</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">release_number</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;55&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CTXIndex.release_url" class="doc_header"><code>CTXIndex.release_url</code><a href="" class="source_link" style="float:right">[source]</a></h4>
<pre><code>Constructs the release URL from the release number.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ctx</span><span class="o">.</span><span class="n">release_url</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://pds-imaging.jpl.nasa.gov/volumes/mro/release55.html&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">release_url</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CTXIndex.latest_volume_url" class="doc_header"><code>CTXIndex.latest_volume_url</code><a href="" class="source_link" style="float:right">[source]</a></h4>
<pre><code>Scrape the Release URL for the latest volume URL in that.

This is necessary because a release usually has more that one volume.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ctx</span><span class="o">.</span><span class="n">latest_volume_url</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Scraping latest release page ...
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://pds-imaging.jpl.nasa.gov/data/mro/mars_reconnaissance_orbiter/ctx/mrox_3669/&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">latest_volume_url</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CTXIndex.latest_index_label_url" class="doc_header"><code>CTXIndex.latest_index_label_url</code><a href="" class="source_link" style="float:right">[source]</a></h4>
<pre><code>Construct the URL for the latest cumulative index.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ctx</span><span class="o">.</span><span class="n">latest_index_label_url</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://pds-imaging.jpl.nasa.gov/data/mro/mars_reconnaissance_orbiter/ctx/mrox_3669/index/cumindex.lbl&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

