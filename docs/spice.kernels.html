---

title: SPICE Kernels


keywords: fastai
sidebar: home_sidebar

summary: "Tools to manage SPICE kernels"
description: "Tools to manage SPICE kernels"
nb_path: "notebooks/10_spice.kernels.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/10_spice.kernels.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Intro">Intro<a class="anchor-link" href="#Intro"> </a></h2><p>We create tools here to receive:</p>
<ul>
<li>the list of supported datasets for automatic retrieval of archived SPICE kernels<ul>
<li>The supported datasets are tabled here at NAIF: <a href="https://naif.jpl.nasa.gov/naif/data_archived.html">https://naif.jpl.nasa.gov/naif/data_archived.html</a></li>
</ul>
</li>
<li>the list of required SPICE kernels for a given mission and date-range</li>
<li>the automatic download of kernels either into a given location or the <code>planetarypy</code> local archive.</li>
</ul>
<p>As always in <code>planetarypy</code> the general design philosophy is to first develop a management class to give the user full control over all the details, and then add easy-to-use function for the end-user that do the most frequently used things in one go. (See section "User Functions")</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Identifying-and-downloading-kernel-sets">Identifying and downloading kernel sets<a class="anchor-link" href="#Identifying-and-downloading-kernel-sets"> </a></h2><p>One repeating task for SPICE calculations is the identification and retrieval of all SPICE kernels for a mission for a given time interval.</p>
<p>The folks at NAIF offer a "Subset" feature at their servers.
Here we set up a table of the currently supported datasets:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasets</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>path</th>
      <th>Mission Name</th>
      <th>PDS3 or PDS4</th>
      <th>Data Size (GB)</th>
      <th>Start Time</th>
      <th>Stop Time</th>
    </tr>
    <tr>
      <th>shorthand</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>cassini</th>
      <td>co-s_j_e_v-spice-6-v1.0/cosp_1000</td>
      <td>Cassini Orbiter</td>
      <td>3</td>
      <td>62.5</td>
      <td>1997-10-15</td>
      <td>2017-09-15</td>
    </tr>
    <tr>
      <th>clementine</th>
      <td>clem1-l-spice-6-v1.0/clsp_1000</td>
      <td>Clementine</td>
      <td>3</td>
      <td>0.8</td>
      <td>1994-01-26</td>
      <td>1994-05-07</td>
    </tr>
    <tr>
      <th>dawn</th>
      <td>dawn-m_a-spice-6-v1.0/dawnsp_1000</td>
      <td>DAWN</td>
      <td>3</td>
      <td>86.4</td>
      <td>2007-09-27</td>
      <td>2018-10-31</td>
    </tr>
    <tr>
      <th>di</th>
      <td>di-c-spice-6-v1.0/disp_1000</td>
      <td>Deep Impact</td>
      <td>3</td>
      <td>0.7</td>
      <td>2005-01-12</td>
      <td>2005-08-09</td>
    </tr>
    <tr>
      <th>ds1</th>
      <td>ds1-a_c-spice-6-v1.0/ds1sp_1000</td>
      <td>Deep Space 1</td>
      <td>3</td>
      <td>0.9</td>
      <td>1998-10-24</td>
      <td>2001-12-18</td>
    </tr>
    <tr>
      <th>epoxi</th>
      <td>dif-c_e_x-spice-6-v1.0/epxsp_1000</td>
      <td>EPOXI</td>
      <td>3</td>
      <td>1.0</td>
      <td>2005-08-23</td>
      <td>2011-03-01</td>
    </tr>
    <tr>
      <th>em16</th>
      <td>em16/em16_spice</td>
      <td>ExoMars 2016</td>
      <td>4</td>
      <td>6.3</td>
      <td>2016-03-14</td>
      <td>2021-05-29</td>
    </tr>
    <tr>
      <th>grail</th>
      <td>grail-l-spice-6-v1.0/grlsp_1000</td>
      <td>GRAIL</td>
      <td>3</td>
      <td>4.3</td>
      <td>2011-09-10</td>
      <td>2012-12-17</td>
    </tr>
    <tr>
      <th>hayabusa</th>
      <td>hay-a-spice-6-v1.0/haysp_1000</td>
      <td>Hayabusa</td>
      <td>3</td>
      <td>0.3</td>
      <td>2005-09-11</td>
      <td>2005-11-19</td>
    </tr>
    <tr>
      <th>insight</th>
      <td>insight/insight_spice</td>
      <td>InSight</td>
      <td>4</td>
      <td>0.9</td>
      <td>2018-05-05</td>
      <td>2021-08-01</td>
    </tr>
    <tr>
      <th>juno</th>
      <td>jno-j_e_ss-spice-6-v1.0/jnosp_1000</td>
      <td>JUNO</td>
      <td>3</td>
      <td>44.0</td>
      <td>2011-08-05</td>
      <td>2021-06-08</td>
    </tr>
    <tr>
      <th>ladee</th>
      <td>ladee/ladee_spice</td>
      <td>LADEE</td>
      <td>4</td>
      <td>0.6</td>
      <td>2013-09-07</td>
      <td>2050-01-01</td>
    </tr>
    <tr>
      <th>lro</th>
      <td>lro-l-spice-6-v1.0/lrosp_1000</td>
      <td>Lunar Reconnaissance Orbiter</td>
      <td>3</td>
      <td>532.9</td>
      <td>2009-06-18</td>
      <td>2021-09-15</td>
    </tr>
    <tr>
      <th>maven</th>
      <td>maven/maven_spice</td>
      <td>MAVEN</td>
      <td>4</td>
      <td>48.4</td>
      <td>2013-11-18</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>opportunity</th>
      <td>mer1-m-spice-6-v1.0/mer1sp_1000</td>
      <td>MER 1 (Opportunity)</td>
      <td>3</td>
      <td>4.1</td>
      <td>2003-07-07</td>
      <td>2018-06-10</td>
    </tr>
    <tr>
      <th>spirit</th>
      <td>mer2-m-spice-6-v1.0/mer2sp_1000</td>
      <td>MER 2 (Spirit)</td>
      <td>3</td>
      <td>2.6</td>
      <td>2003-06-10</td>
      <td>2010-05-03</td>
    </tr>
    <tr>
      <th>messenger</th>
      <td>mess-e_v_h-spice-6-v1.0/messsp_1000</td>
      <td>MESSENGER</td>
      <td>3</td>
      <td>44.8</td>
      <td>2004-08-03</td>
      <td>2015-04-30</td>
    </tr>
    <tr>
      <th>mars2020</th>
      <td>mars2020/mars2020_spice</td>
      <td>Mars 2020</td>
      <td>4</td>
      <td>0.6</td>
      <td>2020-07-30</td>
      <td>2021-08-22</td>
    </tr>
    <tr>
      <th>mex</th>
      <td>mex-e_m-spice-6-v2.0/mexsp_2000</td>
      <td>Mars Express</td>
      <td>3</td>
      <td>7.7</td>
      <td>2003-06-02</td>
      <td>2021-12-31</td>
    </tr>
    <tr>
      <th>mgs</th>
      <td>mgs-m-spice-6-v1.0/mgsp_1000</td>
      <td>Mars Global Surveyor</td>
      <td>3</td>
      <td>15.4</td>
      <td>1996-11-06</td>
      <td>2006-11-02</td>
    </tr>
    <tr>
      <th>ody</th>
      <td>ody-m-spice-6-v1.0/odsp_1000</td>
      <td>Mars Odyssey</td>
      <td>3</td>
      <td>29.9</td>
      <td>2001-04-07</td>
      <td>2021-07-01</td>
    </tr>
    <tr>
      <th>mro</th>
      <td>mro-m-spice-6-v1.0/mrosp_1000</td>
      <td>Mars Reconnaissance Orbiter</td>
      <td>3</td>
      <td>287.1</td>
      <td>2005-08-12</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>msl</th>
      <td>msl-m-spice-6-v1.0/mslsp_1000</td>
      <td>Mars Science Laboratory</td>
      <td>3</td>
      <td>0.5</td>
      <td>2011-11-26</td>
      <td>2021-07-30</td>
    </tr>
    <tr>
      <th>near</th>
      <td>near-a-spice-6-v1.0/nearsp_1000</td>
      <td>NEAR</td>
      <td>3</td>
      <td>2.4</td>
      <td>1996-05-30</td>
      <td>2001-02-28</td>
    </tr>
    <tr>
      <th>nh</th>
      <td>nh-j_p_ss-spice-6-v1.0/nhsp_1000</td>
      <td>New Horizons</td>
      <td>3</td>
      <td>1.6</td>
      <td>2006-01-19</td>
      <td>2019-12-30</td>
    </tr>
    <tr>
      <th>orex</th>
      <td>orex/orex_spice</td>
      <td>OSIRIS-REx</td>
      <td>4</td>
      <td>418.4</td>
      <td>2016-09-08</td>
      <td>2021-02-22</td>
    </tr>
    <tr>
      <th>rosetta</th>
      <td>ro_rl-e_m_a_c-spice-6-v1.0/rossp_1000</td>
      <td>Rosetta</td>
      <td>3</td>
      <td>5.4</td>
      <td>2004-03-02</td>
      <td>2017-01-01</td>
    </tr>
    <tr>
      <th>stardust</th>
      <td>sdu-c-spice-6-v1.0/sdsp_1000</td>
      <td>Stardust</td>
      <td>3</td>
      <td>1.9</td>
      <td>1999-02-07</td>
      <td>2011-05-01</td>
    </tr>
    <tr>
      <th>venus_climate_orbiter</th>
      <td>vco-v-spice-6-v1.0/vcosp_1000</td>
      <td>Venus Climate Orbiter</td>
      <td>3</td>
      <td>1.6</td>
      <td>2010-05-21</td>
      <td>2020-12-31</td>
    </tr>
    <tr>
      <th>vex</th>
      <td>vex-e_v-spice-6-v2.0/vexsp_2000</td>
      <td>Venus Express</td>
      <td>3</td>
      <td>5.0</td>
      <td>2005-11-09</td>
      <td>2015-02-06</td>
    </tr>
    <tr>
      <th>vo</th>
      <td>vo1_vo2-m-spice-6-v1.0/vosp_1000</td>
      <td>Viking Orbiter</td>
      <td>3</td>
      <td>0.1</td>
      <td>1976-06-16</td>
      <td>1980-07-30</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Receive this datafram via <code>from planetarypy.spice.kernels import datasets</code></p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_start_valid" class="doc_header"><code>is_start_valid</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L71" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_start_valid</code>(<strong><code>mission</code></strong>:<code>str</code>, <strong><code>start</code></strong>:<code>Time</code>)</p>
</blockquote>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>mission</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>    <p>mission shorthand label of datasets dataframe</p></li>
</ul>
<ul>
<li><strong><code>start</code></strong> : <em><code>&lt;class 'astropy.time.core.Time'&gt;</code></em>   <p>start time in astropy.Time format</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_stop_valid" class="doc_header"><code>is_stop_valid</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L78" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_stop_valid</code>(<strong><code>mission</code></strong>:<code>str</code>, <strong><code>stop</code></strong>:<code>Time</code>)</p>
</blockquote>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>mission</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>    <p>mission shorthand label of datasets dataframe</p></li>
</ul>
<ul>
<li><strong><code>stop</code></strong> : <em><code>&lt;class 'astropy.time.core.Time'&gt;</code></em>    <p>stop time in astropy.Time format</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">is_start_valid</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="n">Time</span><span class="p">(</span><span class="s2">&quot;1998-01-01&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">is_start_valid</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="n">Time</span><span class="p">(</span><span class="s2">&quot;1997-01-01&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">is_stop_valid</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="s2">&quot;2017-01-01&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">is_stop_valid</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-01-01&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we build a management class for wrapping the Perl script available at below's URL for accessing subsets of these datasets:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Perl script <code>subsetds.pl</code> (the name at the end of the <a href="/nbplanetary/spice.kernels.html#base_url"><code>base_url</code></a>) requires as input:</p>
<ul>
<li>the dataset name</li>
<li>start and stop of the time interval</li>
<li>a constant named "Subset" to identify the action for this Perl script</li>
</ul>
<p>We can assemble these parameters into a payload dictionary for the <code>requests.get</code> call and we manage different potential actions on the zipfile with a <a href="/nbplanetary/spice.kernels.html#Subsetter"><code>Subsetter</code></a> class, that only requires the mission identifier, start and stop as parameters.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Subsetter" class="doc_header"><code>class</code> <code>Subsetter</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L88" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Subsetter</code>(<strong><code>mission</code></strong>:<code>str</code>, <strong><code>start</code></strong>:<code>str</code>, <strong><code>stop</code></strong>=<em><code>None</code></em>, <strong><code>save_location</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Class to manage retrieving subset SPICE kernel lists</p>
<h2 id="Attributes">Attributes<a class="anchor-link" href="#Attributes"> </a></h2><p>kernel_names: List of</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>mission</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>    <p>mission shorthand in datasets dataframe</p></li>
</ul>
<ul>
<li><strong><code>start</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>  <p>start time in either ISO or yyyy-jjj format</p></li>
</ul>
<ul>
<li><strong><code>stop</code></strong> : <em><code>&lt;class 'NoneType'&gt;</code></em>, <em>optional</em>  <p>stop time in either ISO or yyyy-jjj format</p></li>
</ul>
<ul>
<li><strong><code>save_location</code></strong> : <em><code>&lt;class 'NoneType'&gt;</code></em>, <em>optional</em> <p>overwrite default storing in planetarpy archive</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span> <span class="o">=</span> <span class="n">Subsetter</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="s2">&quot;2014-270&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">kernel_names</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;ck/14001_15001pa_gapfill_v14.bc&#39;,
 &#39;ck/14212_14279py_as_flown.bc&#39;,
 &#39;ck/14268_14273ra.bc&#39;,
 &#39;ck/cas_cda_20150318.bc&#39;,
 &#39;ck/cas_lemms_05109_20001_v2.bc&#39;,
 &#39;fk/cas_dyn_v03.tf&#39;,
 &#39;fk/cas_mimi_v202.tf&#39;,
 &#39;fk/cas_rocks_v18.tf&#39;,
 &#39;fk/cas_v41.tf&#39;,
 &#39;ik/cas_caps_v03.ti&#39;,
 &#39;ik/cas_cda_v01.ti&#39;,
 &#39;ik/cas_cirs_v09.ti&#39;,
 &#39;ik/cas_inms_v02.ti&#39;,
 &#39;ik/cas_iss_v10.ti&#39;,
 &#39;ik/cas_mag_v01.ti&#39;,
 &#39;ik/cas_mimi_v11.ti&#39;,
 &#39;ik/cas_radar_v11.ti&#39;,
 &#39;ik/cas_rpws_v01.ti&#39;,
 &#39;ik/cas_rss_v03.ti&#39;,
 &#39;ik/cas_sru_v02.ti&#39;,
 &#39;ik/cas_uvis_v06.ti&#39;,
 &#39;ik/cas_vims_v06.ti&#39;,
 &#39;lsk/naif0012.tls&#39;,
 &#39;pck/pck00010.tpc&#39;,
 &#39;sclk/cas00172.tsc&#39;,
 &#39;spk/140809BP_IRRE_00256_25017.bsp&#39;,
 &#39;spk/150122R_SCPSE_14251_14283.bsp&#39;,
 &#39;spk/180927AP_RE_90165_18018.bsp&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">_failing</span><span class="p">():</span>
    <span class="n">Subsetter</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="s2">&quot;2019-01-01&quot;</span><span class="p">)</span>


<span class="n">test_fail</span><span class="p">(</span><span class="n">_failing</span><span class="p">,</span> <span class="n">contains</span><span class="o">=</span><span class="s2">&quot;start/stop&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span> <span class="o">=</span> <span class="n">Subsetter</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="s2">&quot;2011-02-13&quot;</span><span class="p">,</span> <span class="s2">&quot;2011-02-14&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">urls_file</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;urls_cosp_1000_110213_110214.txt&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">metakernel_file</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;cas_2011_v17_110213_110214.tm&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Subsetter.kernel_names" class="doc_header"><code>Subsetter.kernel_names</code><a href="" class="source_link" style="float:right">[source]</a></h4><p>Return list of names of kernels for the given time range.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">kernel_names</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;ck/11001_12001pa_gapfill_v14.bc&#39;,
 &#39;ck/11017_11066py_as_flown.bc&#39;,
 &#39;ck/11044_11049ra.bc&#39;,
 &#39;ck/cas_cda_20120517.bc&#39;,
 &#39;ck/cas_lemms_05109_20001_v2.bc&#39;,
 &#39;fk/cas_dyn_v03.tf&#39;,
 &#39;fk/cas_mimi_v202.tf&#39;,
 &#39;fk/cas_rocks_v18.tf&#39;,
 &#39;fk/cas_v41.tf&#39;,
 &#39;ik/cas_caps_v03.ti&#39;,
 &#39;ik/cas_cda_v01.ti&#39;,
 &#39;ik/cas_cirs_v09.ti&#39;,
 &#39;ik/cas_inms_v02.ti&#39;,
 &#39;ik/cas_iss_v10.ti&#39;,
 &#39;ik/cas_mag_v01.ti&#39;,
 &#39;ik/cas_mimi_v11.ti&#39;,
 &#39;ik/cas_radar_v11.ti&#39;,
 &#39;ik/cas_rpws_v01.ti&#39;,
 &#39;ik/cas_rss_v03.ti&#39;,
 &#39;ik/cas_sru_v02.ti&#39;,
 &#39;ik/cas_uvis_v06.ti&#39;,
 &#39;ik/cas_vims_v06.ti&#39;,
 &#39;lsk/naif0012.tls&#39;,
 &#39;pck/pck00010.tpc&#39;,
 &#39;sclk/cas00172.tsc&#39;,
 &#39;spk/110504R_SCPSE_11041_11093.bsp&#39;,
 &#39;spk/140809BP_IRRE_00256_25017.bsp&#39;,
 &#39;spk/180927AP_RE_90165_18018.bsp&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">kernel_urls</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ck/11001_12001pa_gapfill_v14.bc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ck/11017_11066py_as_flown.bc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ck/11044_11049ra.bc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ck/cas_cda_20120517.bc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ck/cas_lemms_05109_20001_v2.bc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/fk/cas_dyn_v03.tf&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/fk/cas_mimi_v202.tf&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/fk/cas_rocks_v18.tf&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/fk/cas_v41.tf&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_caps_v03.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_cda_v01.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_cirs_v09.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_inms_v02.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_iss_v10.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_mag_v01.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_mimi_v11.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_radar_v11.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_rpws_v01.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_rss_v03.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_sru_v02.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_uvis_v06.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/ik/cas_vims_v06.ti&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/lsk/naif0012.tls&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/pck/pck00010.tpc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/sclk/cas00172.tsc&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/spk/110504R_SCPSE_11041_11093.bsp&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/spk/140809BP_IRRE_00256_25017.bsp&#39;,
 &#39;https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000/data/spk/180927AP_RE_90165_18018.bsp&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Subsetter.get_local_path" class="doc_header"><code>Subsetter.get_local_path</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L170" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Subsetter.get_local_path</code>(<strong><code>url</code></strong>)</p>
</blockquote>
<p>Calculate local storage path from Kernel URL, using <code>save_location</code> if given.</p>
<p>If self.save_location is None, the <code>planetarypy</code> archive is being used.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>url</code></strong> : <em><code>&lt;class 'inspect._empty'&gt;</code></em> <p>kernel url to determine local storage path</p></li>
</ul>
<p><strong>Returns</strong>:</p>
<ul>
<li><em><code>&lt;class 'pathlib.Path'&gt;</code></em>   <p>full local path where kernel in URL will be stored</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">get_local_path</span><span class="p">(</span><span class="n">subset</span><span class="o">.</span><span class="n">kernel_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;/home/maye/big_drive/planetary_data/spice_kernels/cassini/ck/11001_12001pa_gapfill_v14.bc&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">save_location</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">get_local_path</span><span class="p">(</span><span class="n">subset</span><span class="o">.</span><span class="n">kernel_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;ck/11001_12001pa_gapfill_v14.bc&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Subsetter.download_kernels" class="doc_header"><code>Subsetter.download_kernels</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L186" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Subsetter.download_kernels</code>(<strong><code>overwrite</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>overwrite</code></strong> : <em><code>&lt;class 'bool'&gt;</code></em>, <em>optional</em> <p>switch to control if kernels should be downloaded over existing ones</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">save_location</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">download_kernels</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ck 11001_12001pa_gapfill_v14.bc locally available.
ck 11017_11066py_as_flown.bc locally available.
ck 11044_11049ra.bc locally available.
ck cas_cda_20120517.bc locally available.
ck cas_lemms_05109_20001_v2.bc locally available.
fk cas_dyn_v03.tf locally available.
fk cas_mimi_v202.tf locally available.
fk cas_rocks_v18.tf locally available.
fk cas_v41.tf locally available.
ik cas_caps_v03.ti locally available.
ik cas_cda_v01.ti locally available.
ik cas_cirs_v09.ti locally available.
ik cas_inms_v02.ti locally available.
ik cas_iss_v10.ti locally available.
ik cas_mag_v01.ti locally available.
ik cas_mimi_v11.ti locally available.
ik cas_radar_v11.ti locally available.
ik cas_rpws_v01.ti locally available.
ik cas_rss_v03.ti locally available.
ik cas_sru_v02.ti locally available.
ik cas_uvis_v06.ti locally available.
ik cas_vims_v06.ti locally available.
lsk naif0012.tls locally available.
pck pck00010.tpc locally available.
sclk cas00172.tsc locally available.
spk 110504R_SCPSE_11041_11093.bsp locally available.
spk 140809BP_IRRE_00256_25017.bsp locally available.
spk 180927AP_RE_90165_18018.bsp locally available.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Subsetter.get_metakernel" class="doc_header"><code>Subsetter.get_metakernel</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L198" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Subsetter.get_metakernel</code>()</p>
</blockquote>
<p>Get metakernel file from NAIF and adapt path to match local storage.</p>
<p>Use <code>save_location</code> if given, otherwise <code>planetarypy</code> archive.</p>
<p><strong>Returns</strong>:</p>
<ul>
<li><em><code>&lt;class 'pathlib.Path'&gt;</code></em>   <p>return path to metakernel file</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mkpath</span> <span class="o">=</span> <span class="n">subset</span><span class="o">.</span><span class="n">get_metakernel</span><span class="p">()</span>
<span class="n">mkpath</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;/home/maye/big_drive/planetary_data/spice_kernels/cassini/cas_2011_v17_110213_110214.tm&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>cat <span class="o">{</span>mkpath<span class="o">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING: overwriting environment variables set in the machine
overwriting variable ISISROOT ISISDATA
KPL/MK

   This meta-kernel lists a subset of kernels from the meta-kernel
   cas_2011_v17.tm provided in the CO-S/J/E/V-SPICE-6-V1.0 SPICE PDS3 archive,
   covering the whole or a part of the customer requested time period
   from 2011-02-13T00:00:00.000 to 2011-02-14T00:00:00.000.

   The documentation describing these kernels can be found in the
   complete CO-S/J/E/V-SPICE-6-V1.0 SPICE PDS3 archive available at this URL

   https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000

   To use this meta-kernel users may need to modify the value of the
   PATH_VALUES keyword to point to the actual location of the archive&#39;s
   ``data&#39;&#39; directory on their system. Replacing ``/&#39;&#39; with ``\&#39;&#39;
   and converting line terminators to the format native to the user&#39;s
   system may also be required if this meta-kernel is to be used on a
   non-UNIX workstation.

   This meta-kernel was created by the NAIF node&#39;s SPICE PDS archive
   subsetting service version 2.1 on Tue Feb  8 16:48:52 PST 2022.

 
   \begindata
 
      PATH_VALUES     = (
                         &#39;/home/maye/big_drive/planetary_data/spice_kernels/cassini&#39;
                        )
 
      PATH_SYMBOLS    = (
                         &#39;KERNELS&#39;
                        )
 
      KERNELS_TO_LOAD = (
                         &#39;$KERNELS/lsk/naif0012.tls&#39;
                         &#39;$KERNELS/pck/pck00010.tpc&#39;
                         &#39;$KERNELS/fk/cas_rocks_v18.tf&#39;
                         &#39;$KERNELS/fk/cas_mimi_v202.tf&#39;
                         &#39;$KERNELS/fk/cas_dyn_v03.tf&#39;
                         &#39;$KERNELS/fk/cas_v41.tf&#39;
                         &#39;$KERNELS/ik/cas_caps_v03.ti&#39;
                         &#39;$KERNELS/ik/cas_cda_v01.ti&#39;
                         &#39;$KERNELS/ik/cas_cirs_v09.ti&#39;
                         &#39;$KERNELS/ik/cas_inms_v02.ti&#39;
                         &#39;$KERNELS/ik/cas_iss_v10.ti&#39;
                         &#39;$KERNELS/ik/cas_mag_v01.ti&#39;
                         &#39;$KERNELS/ik/cas_mimi_v11.ti&#39;
                         &#39;$KERNELS/ik/cas_radar_v11.ti&#39;
                         &#39;$KERNELS/ik/cas_rpws_v01.ti&#39;
                         &#39;$KERNELS/ik/cas_rss_v03.ti&#39;
                         &#39;$KERNELS/ik/cas_sru_v02.ti&#39;
                         &#39;$KERNELS/ik/cas_uvis_v06.ti&#39;
                         &#39;$KERNELS/ik/cas_vims_v06.ti&#39;
                         &#39;$KERNELS/sclk/cas00172.tsc&#39;
                         &#39;$KERNELS/spk/180927AP_RE_90165_18018.bsp&#39;
                         &#39;$KERNELS/spk/140809BP_IRRE_00256_25017.bsp&#39;
                         &#39;$KERNELS/spk/110504R_SCPSE_11041_11093.bsp&#39;
                         &#39;$KERNELS/ck/11001_12001pa_gapfill_v14.bc&#39;
                         &#39;$KERNELS/ck/11017_11066py_as_flown.bc&#39;
                         &#39;$KERNELS/ck/11044_11049ra.bc&#39;
                         &#39;$KERNELS/ck/cas_cda_20120517.bc&#39;
                         &#39;$KERNELS/ck/cas_lemms_05109_20001_v2.bc&#39;
                        )
 
   \begintext
 

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Loading the metakernel works! :</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">spiceypy</span> <span class="k">as</span> <span class="nn">spice</span>

<span class="n">spice</span><span class="o">.</span><span class="n">furnsh</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mkpath</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Or, with given <code>save_location</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subset</span><span class="o">.</span><span class="n">save_location</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<span class="n">mkpath</span> <span class="o">=</span> <span class="n">subset</span><span class="o">.</span><span class="n">get_metakernel</span><span class="p">()</span>
<span class="n">mkpath</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;cas_2011_v17_110213_110214.tm&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The metakernel is correctly adapted, however for these tests, I didn't download the kernels again</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>cat <span class="o">{</span>mkpath<span class="o">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING: overwriting environment variables set in the machine
overwriting variable ISISROOT ISISDATA
KPL/MK

   This meta-kernel lists a subset of kernels from the meta-kernel
   cas_2011_v17.tm provided in the CO-S/J/E/V-SPICE-6-V1.0 SPICE PDS3 archive,
   covering the whole or a part of the customer requested time period
   from 2011-02-13T00:00:00.000 to 2011-02-14T00:00:00.000.

   The documentation describing these kernels can be found in the
   complete CO-S/J/E/V-SPICE-6-V1.0 SPICE PDS3 archive available at this URL

   https://naif.jpl.nasa.gov/pub/naif/pds/data/co-s_j_e_v-spice-6-v1.0/cosp_1000

   To use this meta-kernel users may need to modify the value of the
   PATH_VALUES keyword to point to the actual location of the archive&#39;s
   ``data&#39;&#39; directory on their system. Replacing ``/&#39;&#39; with ``\&#39;&#39;
   and converting line terminators to the format native to the user&#39;s
   system may also be required if this meta-kernel is to be used on a
   non-UNIX workstation.

   This meta-kernel was created by the NAIF node&#39;s SPICE PDS archive
   subsetting service version 2.1 on Tue Feb  8 16:48:52 PST 2022.

 
   \begindata
 
      PATH_VALUES     = (
                         &#39;.&#39;
                        )
 
      PATH_SYMBOLS    = (
                         &#39;KERNELS&#39;
                        )
 
      KERNELS_TO_LOAD = (
                         &#39;$KERNELS/lsk/naif0012.tls&#39;
                         &#39;$KERNELS/pck/pck00010.tpc&#39;
                         &#39;$KERNELS/fk/cas_rocks_v18.tf&#39;
                         &#39;$KERNELS/fk/cas_mimi_v202.tf&#39;
                         &#39;$KERNELS/fk/cas_dyn_v03.tf&#39;
                         &#39;$KERNELS/fk/cas_v41.tf&#39;
                         &#39;$KERNELS/ik/cas_caps_v03.ti&#39;
                         &#39;$KERNELS/ik/cas_cda_v01.ti&#39;
                         &#39;$KERNELS/ik/cas_cirs_v09.ti&#39;
                         &#39;$KERNELS/ik/cas_inms_v02.ti&#39;
                         &#39;$KERNELS/ik/cas_iss_v10.ti&#39;
                         &#39;$KERNELS/ik/cas_mag_v01.ti&#39;
                         &#39;$KERNELS/ik/cas_mimi_v11.ti&#39;
                         &#39;$KERNELS/ik/cas_radar_v11.ti&#39;
                         &#39;$KERNELS/ik/cas_rpws_v01.ti&#39;
                         &#39;$KERNELS/ik/cas_rss_v03.ti&#39;
                         &#39;$KERNELS/ik/cas_sru_v02.ti&#39;
                         &#39;$KERNELS/ik/cas_uvis_v06.ti&#39;
                         &#39;$KERNELS/ik/cas_vims_v06.ti&#39;
                         &#39;$KERNELS/sclk/cas00172.tsc&#39;
                         &#39;$KERNELS/spk/180927AP_RE_90165_18018.bsp&#39;
                         &#39;$KERNELS/spk/140809BP_IRRE_00256_25017.bsp&#39;
                         &#39;$KERNELS/spk/110504R_SCPSE_11041_11093.bsp&#39;
                         &#39;$KERNELS/ck/11001_12001pa_gapfill_v14.bc&#39;
                         &#39;$KERNELS/ck/11017_11066py_as_flown.bc&#39;
                         &#39;$KERNELS/ck/11044_11049ra.bc&#39;
                         &#39;$KERNELS/ck/cas_cda_20120517.bc&#39;
                         &#39;$KERNELS/ck/cas_lemms_05109_20001_v2.bc&#39;
                        )
 
   \begintext
 

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="User-functions">User functions<a class="anchor-link" href="#User-functions"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_metakernel_and_files" class="doc_header"><code>get_metakernel_and_files</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L220" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_metakernel_and_files</code>(<strong><code>mission</code></strong>:<code>str</code>, <strong><code>start</code></strong>:<code>str</code>, <strong><code>stop</code></strong>:<code>str</code>, <strong><code>save_location</code></strong>:<code>str</code>=<em><code>None</code></em>)</p>
</blockquote>
<p>For a given mission and start/stop times, download the kernels and get metakernel path</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>mission</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>    <p>mission shorthand from datasets dataframe</p></li>
</ul>
<ul>
<li><strong><code>start</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>  <p>start time as iso-string, or yyyy-jjj</p></li>
</ul>
<ul>
<li><strong><code>stop</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>   <p>stop time as iso-string or yyyy-jjj</p></li>
</ul>
<ul>
<li><strong><code>save_location</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>, <em>optional</em>  <p>override storage into planetarypy archive</p></li>
</ul>
<p><strong>Returns</strong>:</p>
<ul>
<li><em><code>&lt;class 'pathlib.Path'&gt;</code></em>   <p>pathlib.Path to metakernel file with corrected data path.</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mkpath</span> <span class="o">=</span> <span class="n">get_metakernel_and_files</span><span class="p">(</span><span class="s2">&quot;cassini&quot;</span><span class="p">,</span> <span class="s2">&quot;2011-02-13&quot;</span><span class="p">,</span> <span class="s2">&quot;2011-02-14&quot;</span><span class="p">)</span>
<span class="n">mkpath</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ck 11001_12001pa_gapfill_v14.bc locally available.
ck 11017_11066py_as_flown.bc locally available.
ck 11044_11049ra.bc locally available.
ck cas_cda_20120517.bc locally available.
ck cas_lemms_05109_20001_v2.bc locally available.
fk cas_dyn_v03.tf locally available.
fk cas_mimi_v202.tf locally available.
fk cas_rocks_v18.tf locally available.
fk cas_v41.tf locally available.
ik cas_caps_v03.ti locally available.
ik cas_cda_v01.ti locally available.
ik cas_cirs_v09.ti locally available.
ik cas_inms_v02.ti locally available.
ik cas_iss_v10.ti locally available.
ik cas_mag_v01.ti locally available.
ik cas_mimi_v11.ti locally available.
ik cas_radar_v11.ti locally available.
ik cas_rpws_v01.ti locally available.
ik cas_rss_v03.ti locally available.
ik cas_sru_v02.ti locally available.
ik cas_uvis_v06.ti locally available.
ik cas_vims_v06.ti locally available.
lsk naif0012.tls locally available.
pck pck00010.tpc locally available.
sclk cas00172.tsc locally available.
spk 110504R_SCPSE_11041_11093.bsp locally available.
spk 140809BP_IRRE_00256_25017.bsp locally available.
spk 180927AP_RE_90165_18018.bsp locally available.
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;/home/maye/big_drive/planetary_data/spice_kernels/cassini/cas_2011_v17_110213_110214.tm&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list_kernels_for_day" class="doc_header"><code>list_kernels_for_day</code><a href="https://github.com/michaelaye/nbplanetary/tree/master/planetarypy/spice/kernels.py#L232" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list_kernels_for_day</code>(<strong><code>mission</code></strong>:<code>str</code>, <strong><code>start</code></strong>:<code>str</code>, <strong><code>stop</code></strong>:<code>str</code>=<em><code>''</code></em>)</p>
</blockquote>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong><code>mission</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>    <p>mission shorthand from datasets dataframe</p></li>
</ul>
<ul>
<li><strong><code>start</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>  <p>start time as iso-string, or yyyy-jjj</p></li>
</ul>
<ul>
<li><strong><code>stop</code></strong> : <em><code>&lt;class 'str'&gt;</code></em>, <em>optional</em>   <p>stop time as iso-string or yyyy-jjj</p></li>
</ul>
<p><strong>Returns</strong>:</p>
<ul>
<li><em><code>&lt;class 'list'&gt;</code></em>   <p>list of kernel names</p></li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">list_kernels_for_day</span><span class="p">(</span><span class="s2">&quot;mro&quot;</span><span class="p">,</span> <span class="s2">&quot;2015-02-13&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;ck/mro_crm_psp_150201_150228.bc&#39;,
 &#39;ck/mro_hga_psp_150210_150216_v2.bc&#39;,
 &#39;ck/mro_mcs_psp_150201_150228.bc&#39;,
 &#39;ck/mro_sa_psp_150210_150216_v2.bc&#39;,
 &#39;ck/mro_sc_psp_150210_150216_v2.bc&#39;,
 &#39;fk/mro_v16.tf&#39;,
 &#39;ik/mro_crism_v10.ti&#39;,
 &#39;ik/mro_ctx_v11.ti&#39;,
 &#39;ik/mro_hirise_v12.ti&#39;,
 &#39;ik/mro_marci_v10.ti&#39;,
 &#39;ik/mro_mcs_v10.ti&#39;,
 &#39;ik/mro_onc_v10.ti&#39;,
 &#39;lsk/naif0012.tls&#39;,
 &#39;pck/pck00008.tpc&#39;,
 &#39;sclk/mro_sclkscet_00095_65536.tsc&#39;,
 &#39;spk/de421.bsp&#39;,
 &#39;spk/mar097.bsp&#39;,
 &#39;spk/mro_psp34.bsp&#39;,
 &#39;spk/mro_psp34_ssd_mro95a.bsp&#39;,
 &#39;spk/mro_struct_v10.bsp&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">list_kernels_for_day</span><span class="p">(</span><span class="s2">&quot;maven&quot;</span><span class="p">,</span> <span class="s2">&quot;2017-01-01&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;ck/mvn_app_rel_161226_170101_v01.bc&#39;,
 &#39;ck/mvn_app_rel_170102_170108_v01.bc&#39;,
 &#39;ck/mvn_iuvs_rem_170101_170331_v03.bc&#39;,
 &#39;ck/mvn_sc_rel_161226_170101_v01.bc&#39;,
 &#39;ck/mvn_sc_rel_170102_170108_v02.bc&#39;,
 &#39;ck/mvn_swea_nom_131118_300101_v02.bc&#39;,
 &#39;fk/maven_v09.tf&#39;,
 &#39;ik/maven_ant_v10.ti&#39;,
 &#39;ik/maven_euv_v10.ti&#39;,
 &#39;ik/maven_iuvs_v11.ti&#39;,
 &#39;ik/maven_ngims_v10.ti&#39;,
 &#39;ik/maven_sep_v12.ti&#39;,
 &#39;ik/maven_static_v11.ti&#39;,
 &#39;ik/maven_swea_v11.ti&#39;,
 &#39;ik/maven_swia_v10.ti&#39;,
 &#39;lsk/naif0012.tls&#39;,
 &#39;pck/pck00010.tpc&#39;,
 &#39;sclk/mvn_sclkscet_00072.tsc&#39;,
 &#39;spk/de430s.bsp&#39;,
 &#39;spk/mar097s.bsp&#39;,
 &#39;spk/maven_orb_rec_170101_170401_v1.bsp&#39;,
 &#39;spk/maven_struct_v01.bsp&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">mission</span> <span class="ow">in</span> <span class="n">datasets</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">mission</span><span class="p">,</span> <span class="s2">&quot;Start Time&quot;</span><span class="p">]</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">mission</span><span class="p">,</span> <span class="s2">&quot;Stop Time&quot;</span><span class="p">]</span>
    <span class="n">half</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="n">start</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">Time</span><span class="p">(</span><span class="n">end</span><span class="p">)</span> <span class="o">-</span> <span class="n">Time</span><span class="p">(</span><span class="n">start</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">=</span> <span class="n">list_kernels_for_day</span><span class="p">(</span><span class="n">mission</span><span class="p">,</span> <span class="n">half</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Problem with&quot;</span><span class="p">,</span> <span class="n">mission</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">found</span><span class="p">)</span><span class="si">}</span><span class="s2"> kernels for </span><span class="si">{</span><span class="n">mission</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Found 32 kernels for cassini
Found 19 kernels for clementine
Found 21 kernels for dawn
Found 16 kernels for di
Found 11 kernels for ds1
Found 12 kernels for epoxi
Found 27 kernels for em16
Found 20 kernels for grail
Found 15 kernels for hayabusa
Found 23 kernels for insight
Found 25 kernels for juno
Found 12 kernels for ladee
Found 20 kernels for lro
Found 20 kernels for maven
Found 23 kernels for opportunity
Found 24 kernels for spirit
Found 18 kernels for messenger
Found 13 kernels for mars2020
Found 39 kernels for mex
Found 20 kernels for mgs
Found 14 kernels for ody
Found 20 kernels for mro
Found 46 kernels for msl
Found 15 kernels for near
Found 28 kernels for nh
Found 25 kernels for orex
Found 56 kernels for rosetta
Found 13 kernels for stardust
Found 18 kernels for venus_climate_orbiter
Found 27 kernels for vex
Found 17 kernels for vo
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

<script type="application/vnd.jupyter.widget-state+json">
{"state": {"01c106b52b2e4516a874362c91c976bd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatProgressModel", "state": {"bar_style": "success", "layout": "IPY_MODEL_265f8ab3d88d4cbe97134d6d657a352c", "max": 28, "style": "IPY_MODEL_fee801b22333496f88a990678f846ebb", "value": 28}}, "021878dd4e484566ad70a6b0143d1075": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "11549ecb934f4e25b5b5c87e755d411d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "145e7180cd5e42da9c0cc1cc001c5cc5": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "265f8ab3d88d4cbe97134d6d657a352c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "371fbc924da2434da52ba5b2f587bb0c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "459aeb422c024185a4a55ac1d37ba9bf": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "481759e9fcac4f8babcc466f5e04fb60": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "5fa642e1d4564ae19f08586efb71dbb8": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HBoxModel", "state": {"children": ["IPY_MODEL_c3108f7f44e84ed8b3a8793fa14315a6", "IPY_MODEL_01c106b52b2e4516a874362c91c976bd", "IPY_MODEL_f250261dd46b4f128be259e8bb7bc698"], "layout": "IPY_MODEL_11549ecb934f4e25b5b5c87e755d411d"}}, "6119196b842a499a825f8430b8760c93": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "719f5014fad34d498905453eaf83c616": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "8e84924932514e0c9faac8160c711be6": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "91fb6fe1a98a494d83fbc75cba417d3c": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "92465065a6ef4a69bbbb329ce9c65fba": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ProgressStyleModel", "state": {"description_width": ""}}, "a501d85574f94af9907e0a377fd289e6": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatProgressModel", "state": {"bar_style": "success", "layout": "IPY_MODEL_371fbc924da2434da52ba5b2f587bb0c", "max": 28, "style": "IPY_MODEL_92465065a6ef4a69bbbb329ce9c65fba", "value": 28}}, "c2f02ef582684a45a8273e29bb75f8c1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HTMLModel", "state": {"layout": "IPY_MODEL_6119196b842a499a825f8430b8760c93", "style": "IPY_MODEL_021878dd4e484566ad70a6b0143d1075", "value": " 28/28 [00:00&lt;00:00, 1036.84it/s]"}}, "c3108f7f44e84ed8b3a8793fa14315a6": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HTMLModel", "state": {"layout": "IPY_MODEL_8e84924932514e0c9faac8160c711be6", "style": "IPY_MODEL_91fb6fe1a98a494d83fbc75cba417d3c", "value": "Kernels downloaded: 100%"}}, "c397d2240aeb41cd89840665f82ea702": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HTMLModel", "state": {"layout": "IPY_MODEL_481759e9fcac4f8babcc466f5e04fb60", "style": "IPY_MODEL_719f5014fad34d498905453eaf83c616", "value": "Kernels downloaded: 100%"}}, "f250261dd46b4f128be259e8bb7bc698": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HTMLModel", "state": {"layout": "IPY_MODEL_fbd194b92daf4182a0cb8d61de575c14", "style": "IPY_MODEL_145e7180cd5e42da9c0cc1cc001c5cc5", "value": " 28/28 [00:00&lt;00:00, 676.15it/s]"}}, "f3ff1df63b5f4aa782f64e160db10d07": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HBoxModel", "state": {"children": ["IPY_MODEL_c397d2240aeb41cd89840665f82ea702", "IPY_MODEL_a501d85574f94af9907e0a377fd289e6", "IPY_MODEL_c2f02ef582684a45a8273e29bb75f8c1"], "layout": "IPY_MODEL_459aeb422c024185a4a55ac1d37ba9bf"}}, "fbd194b92daf4182a0cb8d61de575c14": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "fee801b22333496f88a990678f846ebb": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ProgressStyleModel", "state": {"description_width": ""}}}, "version_major": 2, "version_minor": 0}
</script>

